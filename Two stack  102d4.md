# Two stack algorithm

### Stegeran Darius Cosmin

---

This algorithm uses two stacks, a value stack consisting of operands and an operator stack. 

1. For every term in expression
    1. If it‚Äôs an operand
        1. Push to evaluation stack.
    2. If it‚Äôs an operator
        1. While the stack is not empty and the last operator‚Äôs precedence is equal or higher than the term
            1. Pop the operator from the operator stack
            2. Compute the operation between the last two operands in the evaluation stack
            3. Push the result back in the evaluation stack
        2. Push operator to operator stack
    3. If it‚Äôs ‚Äú(‚Äù
        1. Push to operator stack
    4. If it‚Äôs ‚Äú)‚Äù
        1. While the last operator in the stack is not equal to ‚Äú(‚Äù
            1. Pop the operator from the operator stack
            2. Compute the operation between the last two operands in the evaluation stack
            3. Push the result back in the evaluation stack
        2. Pop the operand from the stack
2. While the operand is not empty 
    1. Pop the operator from the operator stack
    2. Compute the operation between the last two operands in the evaluation stack
    3. Push the result back in the evaluation stack

---

## Visualization of a mathematical expression using the two stack algorithm

```python
def visualizer(exp):
    expression = [x for x in exp.split(" ")]
    operator = []
    operator_value = {"+": 1, "-": 1, "*": 2, "/": 2, "(": 0, ")": 0, "^": 3, "%": 2}
    final = []
    for token in expression:
        if token.isalnum():
            stack.append(str(token))
        elif token == "(":
            operator.append(token)
        elif token == ")":
            while operator and operator[-1] != "(":
                calculator(operator[-1])
                operator.pop()
            aux = "("+stack.pop()+")"
            stack.append(aux)
            operator.pop()
        else:
            while len(operator) and operator_value[operator[-1]] >= operator_value[token]:
                calculator(operator[-1])
                operator.pop()
            operator.append(token)
        final.append([token, " ".join(operator), " ".join([str(x) for x in stack])])
    while len(operator):
        calculator(operator[-1])
        operator.pop()
   
def calculator(exp):
    match exp:
        case "+":
            a = stack.pop()
            aux = stack.pop() + " + " + a
            stack.append(aux)
        case "-":
            a = stack.pop()
            aux = stack.pop() + " - " + a
            stack.append(aux)
        case "*":
            a = stack.pop()
            aux = stack.pop() + " * " + a
            stack.append(aux)
        case "/":
            a = stack.pop()
            aux = stack.pop()+" / "+a
            stack.append(aux)
        case "%":
            a = stack.pop()
            aux = stack.pop() + " % " + a
            stack.append(aux)
        case "^":
            a = stack.pop()
            aux = stack.pop() + " ^ " + a
            stack.append(aux)
```

```python
visualizer("A + ( B / C ) ^ D")
+---------+------------------+--------------------+
| Token   | Operator Stack   | Evaluation Stack   |
+=========+==================+====================+
| A       |                  | A                  |
+---------+------------------+--------------------+
| +       | +                | A                  |
+---------+------------------+--------------------+
| (       | + (              | A                  |
+---------+------------------+--------------------+
| B       | + (              | A B                |
+---------+------------------+--------------------+
| /       | + ( /            | A B                |
+---------+------------------+--------------------+
| C       | + ( /            | A B C              |
+---------+------------------+--------------------+
| )       | +                | A (B / C)          |
+---------+------------------+--------------------+
| ^       | + ^              | A (B / C)          |
+---------+------------------+--------------------+
| D       | + ^              | A (B / C) D        |
+---------+------------------+--------------------+
|         | +                | A (B / C) ^ D      |
+---------+------------------+--------------------+
|         | Result is:       | A + (B / C) ^ D    |
+---------+------------------+--------------------+
```

The usable operations supported by this program are:

- + (addition)
- - (subtraction) and - as a unary function
- * (multiplication)
- / (division)
- % (modulo)
- ^ (power) using existing python function **

---

## Computing the value of an expression using the two stack algorithm

<aside>
‚ö†Ô∏è Problems encountered:

- numbers with multiple digits
- - as a unary function
- numbers with excessive decimals
- negative number being raised to a power giving wrong results
</aside>

<aside>
üõ† Fixes:

- Added requirement of spaces between numbers, meaning that a negative number will not be considered a operator.
- Added formatting with float values such that only two decimals are shown
- A weird workaround assigning negation to the base even if it‚Äôs already negative ??
</aside>

---

![Untitled](Two%20stack%20%20102d4/Untitled.png)

```python
def readfrominput(exp):
    expression = [x for x in exp.split(" ")]
    operator = []
    operator_value = {"+": 1, "-": 1, "*": 2, "/": 2, "(": 0, ")": 0, "^": 3, "%": 2}
    final = []
    for token in expression:
        if token.isdigit():
            stack.append(int(token))
        elif token == "(":
            operator.append(token)
        elif token == ")":
            while operator and operator[-1] != "(":
                calculator(operator[-1])
                operator.pop()
            operator.pop()
        else:
            while len(operator) and operator_value[operator[-1]] >= operator_value[token]:
                calculator(operator[-1])
                operator.pop()
            operator.append(token)
        final.append([token," ".join(operator)," ".join([str(x) for x in stack])])
    while len(operator):
        calculator(operator[-1])
        operator.pop()
      
def calculator(exp):
    match exp:
        case "+":
            aux = stack.pop() + stack.pop()
            stack.append(aux)
        case "-":
            a = stack.pop()
            aux = stack.pop() - a
            stack.append(aux)
        case "*":
            aux = stack.pop() * stack.pop()
            stack.append(aux)
        case "/":
            a = stack.pop()
            aux = stack.pop() / a
            stack.append(float("{:.2f}".format(aux)))
        case "%":
            a = stack.pop()
            aux = stack.pop() % a
            stack.append(aux)
        case "^":
            a = stack.pop()
            b = stack.pop()
            if b < 0:
                aux = -b ** a
            else:
                aux = b ** a
            stack.append(float("{:.2f}".format(aux)))
```

```python
readfrominput("20 + ( 9 ^ 2 ) - ( 20 * ( 54 / 2 ) - 2 ^ 5 )")
+---------+------------------+--------------------+
| Token   | Operator Stack   | Evaluation Stack   |
+=========+==================+====================+
| 20      |                  | 20                 |
+---------+------------------+--------------------+
| +       | +                | 20                 |
+---------+------------------+--------------------+
| (       | + (              | 20                 |
+---------+------------------+--------------------+
| 9       | + (              | 20 9               |
+---------+------------------+--------------------+
| ^       | + ( ^            | 20 9               |
+---------+------------------+--------------------+
| 2       | + ( ^            | 20 9 2             |
+---------+------------------+--------------------+
| )       | + (              | 20 81.0            |
+---------+------------------+--------------------+
| )       | +                | 20 81.0            |
+---------+------------------+--------------------+
| -       |                  | 101.0              |
+---------+------------------+--------------------+
| -       | -                | 101.0              |
+---------+------------------+--------------------+
| (       | - (              | 101.0              |
+---------+------------------+--------------------+
| 20      | - (              | 101.0 20           |
+---------+------------------+--------------------+
| *       | - ( *            | 101.0 20           |
+---------+------------------+--------------------+
| (       | - ( * (          | 101.0 20           |
+---------+------------------+--------------------+
| 54      | - ( * (          | 101.0 20 54        |
+---------+------------------+--------------------+
| /       | - ( * ( /        | 101.0 20 54        |
+---------+------------------+--------------------+
| 2       | - ( * ( /        | 101.0 20 54 2      |
+---------+------------------+--------------------+
| )       | - ( * (          | 101.0 20 27.0      |
+---------+------------------+--------------------+
| )       | - ( *            | 101.0 20 27.0      |
+---------+------------------+--------------------+
| -       | - (              | 101.0 540.0        |
+---------+------------------+--------------------+
| -       | - ( -            | 101.0 540.0        |
+---------+------------------+--------------------+
| 2       | - ( -            | 101.0 540.0 2      |
+---------+------------------+--------------------+
| ^       | - ( - ^          | 101.0 540.0 2      |
+---------+------------------+--------------------+
| 5       | - ( - ^          | 101.0 540.0 2 5    |
+---------+------------------+--------------------+
| )       | - ( -            | 101.0 540.0 32.0   |
+---------+------------------+--------------------+
| )       | - (              | 101.0 508.0        |
+---------+------------------+--------------------+
| )       | -                | 101.0 508.0        |
+---------+------------------+--------------------+
|         | Result is:       | -407.0             |
+---------+------------------+--------------------+
```

---

## Visualizing a logical expression using the two stack algorithm

Uses the same concept as above.

### Logical operators supported

- $! \text{ as } \neg$
- $|\text{ as } \lor$
- $\& \text{ as } \land$
- $-\text{ as } \to$
- $= \text{ as } \iff$

```python
def visualizer(exp):
    expression = [x for x in exp.split(" ")]
    operator = []
    operator_value = {"!": 3, "|": 1, "&": 2, "-": 2, "(": 0, ")": 0, "=": 2}

    for token in expression:
        auxiliary = []
        if token.isalnum():
            stack.append(str(token))
        elif token == "(":
            operator.append(token)
        elif token == ")":
            while operator and operator[-1] != "(":
                calculator(operator[-1])
                operator.pop()
            aux = "("+stack.pop()+")"
            stack.append(aux)
            operator.pop()
        else:
            while len(operator) and operator_value[operator[-1]] >= operator_value[token]:
                calculator(operator[-1])
                operator.pop()
            operator.append(token)
    while len(operator):
        calculator(operator[-1])
        operator.pop()

def calculator(exp):
    match exp:
        case "!":
            aux = "!"+stack.pop()
            stack.append(aux)
        case "|":
            a = stack.pop()
            aux = stack.pop() + " | " + a
            stack.append(aux)
        case "&":
            a = stack.pop()
            aux = stack.pop() + " & " + a
            stack.append(aux)
        case "-":
            a = stack.pop()
            aux = stack.pop()+" - "+a
            stack.append(aux)
        case "=":
            a = stack.pop()
            aux = stack.pop() + " = " + a
            stack.append(aux)
```

```python
visualizer("! ( A | B ) & ! C | D - ( E = F )")
+---------+------------------+-----------------------------+
| Token   | Operator Stack   | Evaluation Stack            |
+=========+==================+=============================+
| !       | !                |                             |
+---------+------------------+-----------------------------+
| (       | ! (              |                             |
+---------+------------------+-----------------------------+
| A       | ! (              | A                           |
+---------+------------------+-----------------------------+
| |       | ! ( |            | A                           |
+---------+------------------+-----------------------------+
| B       | ! ( |            | A B                         |
+---------+------------------+-----------------------------+
| )       | !                | (A | B)                     |
+---------+------------------+-----------------------------+
| &       | &                | !(A | B)                    |
+---------+------------------+-----------------------------+
| !       | & !              | !(A | B)                    |
+---------+------------------+-----------------------------+
| C       | & !              | !(A | B) C                  |
+---------+------------------+-----------------------------+
| |       | |                | !(A | B) & !C               |
+---------+------------------+-----------------------------+
| D       | |                | !(A | B) & !C D             |
+---------+------------------+-----------------------------+
| -       | | -              | !(A | B) & !C D             |
+---------+------------------+-----------------------------+
| (       | | - (            | !(A | B) & !C D             |
+---------+------------------+-----------------------------+
| E       | | - (            | !(A | B) & !C D E           |
+---------+------------------+-----------------------------+
| =       | | - ( =          | !(A | B) & !C D E           |
+---------+------------------+-----------------------------+
| F       | | - ( =          | !(A | B) & !C D E F         |
+---------+------------------+-----------------------------+
| )       | | -              | !(A | B) & !C D (E = F)     |
+---------+------------------+-----------------------------+
| |       | |                | !(A | B) & !C D - (E = F)   |
+---------+------------------+-----------------------------+
|         | Result is:       | !(A | B) & !C | D - (E = F) |
+---------+------------------+-----------------------------+
```

---

## Computing the value of a logical expression using two stack.

```python
stack = []

def neg(a):
    if a == 1:
        return 0
    return 1

def lor(a,b):
    if a == 0 and b == 0:
        return 0
    return 1

def land(a ,b):
    if a or b:
        return 1
    return 0

def lto(a ,b):
    if a == 0 and b:
        return 0
    return 1

def equal(a,b):
    if a == b:
        return 1
    return 0

def valuecalculator(exp):
    match exp:
        case "!":
            a = stack.pop()
            stack.append(neg(a))
        case "|":
            a = lor(stack.pop(), stack.pop())
            stack.append(a)
        case "&":
            a = land(stack.pop(), stack.pop())
            stack.append(a)
        case "-":
            a = lto(stack.pop(), stack.pop())
            stack.append(a)
        case "=":
            a = equal(stack.pop(), stack.pop())
            stack.append(a)

def calculator(exp):
    expression = [x for x in exp.split(" ")]
    operator = []
    operator_value = {"!": 3, "|": 1, "&": 2, "-": 2, "(": 0, ")": 0, "=": 2}
    for token in expression:
        if token.isdigit():
            stack.append(int(token))
        elif token == "(":
            operator.append(token)
        elif token == ")":
            while operator and operator[-1] != "(":
                tableformer(token, operator)
                valuecalculator(operator[-1])
                operator.pop()
                token = " "
            tableformer(" ", operator)
            operator.pop()

        else:
            while len(operator) and operator_value[operator[-1]] >= operator_value[token]:
                valuecalculator(operator[-1])
                operator.pop()
            operator.append(token)
    while len(operator):
        auxiliary = []
        valuecalculator(operator[-1])
        operator.pop()
```

```python
+---------+------------------+--------------------+
| Token   | Operator Stack   | Evaluation Stack   |
+=========+==================+====================+
| !       | !                |                    |
+---------+------------------+--------------------+
| (       | ! (              |                    |
+---------+------------------+--------------------+
| 1       | ! (              | 1                  |
+---------+------------------+--------------------+
| |       | ! ( |            | 1                  |
+---------+------------------+--------------------+
| 0       | ! ( |            | 1 0                |
+---------+------------------+--------------------+
| )       | ! ( |            | 1 0                |
+---------+------------------+--------------------+
|         | ! (              | 1                  |
+---------+------------------+--------------------+
|         | !                | 1                  |
+---------+------------------+--------------------+
| &       | &                | 0                  |
+---------+------------------+--------------------+
| !       | & !              | 0                  |
+---------+------------------+--------------------+
| 1       | & !              | 0 1                |
+---------+------------------+--------------------+
| |       | |                | 0                  |
+---------+------------------+--------------------+
| 0       | |                | 0 0                |
+---------+------------------+--------------------+
| -       | | -              | 0 0                |
+---------+------------------+--------------------+
| (       | | - (            | 0 0                |
+---------+------------------+--------------------+
| 1       | | - (            | 0 0 1              |
+---------+------------------+--------------------+
| =       | | - ( =          | 0 0 1              |
+---------+------------------+--------------------+
| 1       | | - ( =          | 0 0 1 1            |
+---------+------------------+--------------------+
| )       | | - ( =          | 0 0 1 1            |
+---------+------------------+--------------------+
|         | | - (            | 0 0 1              |
+---------+------------------+--------------------+
|         | | -              | 0 0 1              |
+---------+------------------+--------------------+
| |       | |                | 0 1                |
+---------+------------------+--------------------+
|         | Result is:       | 1                  |
+---------+------------------+--------------------+
```

---

<aside>
üí° What‚Äôs next

- I want to implement distinction between negative numbers and subtraction without the use of spaces
- More ways to input logical connectives such as with words ( ! = NOT = $\neg$)
- Create a convertor website with these tools
</aside>

---

## More examples

![Untitled](Two%20stack%20%20102d4/Untitled%201.png)

```python
+---------+------------------+-------------------------------------------+
| Token   | Operator Stack   | Evaluation Stack                          |
+=========+==================+===========================================+
| 10      |                  | 10                                        |
+---------+------------------+-------------------------------------------+
| ^       | ^                | 10                                        |
+---------+------------------+-------------------------------------------+
| 3       | ^                | 10 3                                      |
+---------+------------------+-------------------------------------------+
| +       | +                | 10 ^ 3                                    |
+---------+------------------+-------------------------------------------+
| (       | + (              | 10 ^ 3                                    |
+---------+------------------+-------------------------------------------+
| 1337    | + (              | 10 ^ 3 1337                               |
+---------+------------------+-------------------------------------------+
| /       | + ( /            | 10 ^ 3 1337                               |
+---------+------------------+-------------------------------------------+
| (       | + ( / (          | 10 ^ 3 1337                               |
+---------+------------------+-------------------------------------------+
| 80085   | + ( / (          | 10 ^ 3 1337 80085                         |
+---------+------------------+-------------------------------------------+
| +       | + ( / ( +        | 10 ^ 3 1337 80085                         |
+---------+------------------+-------------------------------------------+
| -12     | + ( / ( +        | 10 ^ 3 1337 80085 -12                     |
+---------+------------------+-------------------------------------------+
| )       | + ( /            | 10 ^ 3 1337 (80085 + -12)                 |
+---------+------------------+-------------------------------------------+
| -       | + ( -            | 10 ^ 3 1337 / (80085 + -12)               |
+---------+------------------+-------------------------------------------+
| 130     | + ( -            | 10 ^ 3 1337 / (80085 + -12) 130           |
+---------+------------------+-------------------------------------------+
| )       | +                | 10 ^ 3 (1337 / (80085 + -12) - 130)       |
+---------+------------------+-------------------------------------------+
| *       | + *              | 10 ^ 3 (1337 / (80085 + -12) - 130)       |
+---------+------------------+-------------------------------------------+
| 2       | + *              | 10 ^ 3 (1337 / (80085 + -12) - 130) 2     |
+---------+------------------+-------------------------------------------+
|         | +                | 10 ^ 3 (1337 / (80085 + -12) - 130) * 2   |
+---------+------------------+-------------------------------------------+
|         | Result is:       | 10 ^ 3 + (1337 / (80085 + -12) - 130) * 2 |
+---------+------------------+-------------------------------------------+
```

```python
+---------+------------------+-----------------------+
| Token   | Operator Stack   | Evaluation Stack      |
+=========+==================+=======================+
| 10      |                  | 10                    |
+---------+------------------+-----------------------+
| ^       | ^                | 10                    |
+---------+------------------+-----------------------+
| 3       | ^                | 10 3                  |
+---------+------------------+-----------------------+
| +       |                  | 1000.0                |
+---------+------------------+-----------------------+
| +       | +                | 1000.0                |
+---------+------------------+-----------------------+
| (       | + (              | 1000.0                |
+---------+------------------+-----------------------+
| 1337    | + (              | 1000.0 1337           |
+---------+------------------+-----------------------+
| /       | + ( /            | 1000.0 1337           |
+---------+------------------+-----------------------+
| (       | + ( / (          | 1000.0 1337           |
+---------+------------------+-----------------------+
| 80085   | + ( / (          | 1000.0 1337 80085     |
+---------+------------------+-----------------------+
| +       | + ( / ( +        | 1000.0 1337 80085     |
+---------+------------------+-----------------------+
| -12     | + ( / ( +        | 1000.0 1337 80085 -12 |
+---------+------------------+-----------------------+
| )       | + ( / (          | 1000.0 1337 80073     |
+---------+------------------+-----------------------+
| )       | + ( /            | 1000.0 1337 80073     |
+---------+------------------+-----------------------+
| -       | + (              | 1000.0 0.02           |
+---------+------------------+-----------------------+
| -       | + ( -            | 1000.0 0.02           |
+---------+------------------+-----------------------+
| 130     | + ( -            | 1000.0 0.02 130       |
+---------+------------------+-----------------------+
| )       | + (              | 1000.0 -129.98        |
+---------+------------------+-----------------------+
| )       | +                | 1000.0 -129.98        |
+---------+------------------+-----------------------+
| *       | + *              | 1000.0 -129.98        |
+---------+------------------+-----------------------+
| 2       | + *              | 1000.0 -129.98 2      |
+---------+------------------+-----------------------+
| +       | +                | 1000.0 -259.96        |
+---------+------------------+-----------------------+
|         | Result is:       | 740.04                |
+---------+------------------+-----------------------+
```

---

![Untitled](Two%20stack%20%20102d4/Untitled%202.png)

```python
+---------+------------------+--------------------+
| Token   | Operator Stack   | Evaluation Stack   |
+=========+==================+====================+
| 10      |                  | 10                 |
+---------+------------------+--------------------+
| -       | -                | 10                 |
+---------+------------------+--------------------+
| 9       | -                | 10 9               |
+---------+------------------+--------------------+
| +       |                  | 1                  |
+---------+------------------+--------------------+
| +       | +                | 1                  |
+---------+------------------+--------------------+
| (       | + (              | 1                  |
+---------+------------------+--------------------+
| 8       | + (              | 1 8                |
+---------+------------------+--------------------+
| -       | + ( -            | 1 8                |
+---------+------------------+--------------------+
| 7       | + ( -            | 1 8 7              |
+---------+------------------+--------------------+
| )       | + (              | 1 1                |
+---------+------------------+--------------------+
| )       | +                | 1 1                |
+---------+------------------+--------------------+
| +       |                  | 2                  |
+---------+------------------+--------------------+
| +       | +                | 2                  |
+---------+------------------+--------------------+
| 6       | +                | 2 6                |
+---------+------------------+--------------------+
| ^       | + ^              | 2 6                |
+---------+------------------+--------------------+
| 5       | + ^              | 2 6 5              |
+---------+------------------+--------------------+
| +       | +                | 2 7776.0           |
+---------+------------------+--------------------+
| +       |                  | 7778.0             |
+---------+------------------+--------------------+
| +       | +                | 7778.0             |
+---------+------------------+--------------------+
| 4       | +                | 7778.0 4           |
+---------+------------------+--------------------+
| -       |                  | 7782.0             |
+---------+------------------+--------------------+
| -       | -                | 7782.0             |
+---------+------------------+--------------------+
| 3       | -                | 7782.0 3           |
+---------+------------------+--------------------+
| +       |                  | 7779.0             |
+---------+------------------+--------------------+
| +       | +                | 7779.0             |
+---------+------------------+--------------------+
| 2       | +                | 7779.0 2           |
+---------+------------------+--------------------+
| -       |                  | 7781.0             |
+---------+------------------+--------------------+
| -       | -                | 7781.0             |
+---------+------------------+--------------------+
| 1       | -                | 7781.0 1           |
+---------+------------------+--------------------+
| /       | - /              | 7781.0 1           |
+---------+------------------+--------------------+
| 2       | - /              | 7781.0 1 2         |
+---------+------------------+--------------------+
| -       | -                | 7781.0 0.5         |
+---------+------------------+--------------------+
|         | Result is:       | 7780.5             |
+---------+------------------+--------------------+
```

```python
+---------+------------------+----------------------------------------------+
| Token   | Operator Stack   | Evaluation Stack                             |
+=========+==================+==============================================+
| 10      |                  | 10                                           |
+---------+------------------+----------------------------------------------+
| -       | -                | 10                                           |
+---------+------------------+----------------------------------------------+
| 9       | -                | 10 9                                         |
+---------+------------------+----------------------------------------------+
| +       | +                | 10 - 9                                       |
+---------+------------------+----------------------------------------------+
| (       | + (              | 10 - 9                                       |
+---------+------------------+----------------------------------------------+
| 8       | + (              | 10 - 9 8                                     |
+---------+------------------+----------------------------------------------+
| -       | + ( -            | 10 - 9 8                                     |
+---------+------------------+----------------------------------------------+
| 7       | + ( -            | 10 - 9 8 7                                   |
+---------+------------------+----------------------------------------------+
| )       | +                | 10 - 9 (8 - 7)                               |
+---------+------------------+----------------------------------------------+
| +       | +                | 10 - 9 + (8 - 7)                             |
+---------+------------------+----------------------------------------------+
| 6       | +                | 10 - 9 + (8 - 7) 6                           |
+---------+------------------+----------------------------------------------+
| ^       | + ^              | 10 - 9 + (8 - 7) 6                           |
+---------+------------------+----------------------------------------------+
| 5       | + ^              | 10 - 9 + (8 - 7) 6 5                         |
+---------+------------------+----------------------------------------------+
| +       | +                | 10 - 9 + (8 - 7) + 6 ^ 5                     |
+---------+------------------+----------------------------------------------+
| 4       | +                | 10 - 9 + (8 - 7) + 6 ^ 5 4                   |
+---------+------------------+----------------------------------------------+
| -       | -                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4                 |
+---------+------------------+----------------------------------------------+
| 3       | -                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 3               |
+---------+------------------+----------------------------------------------+
| +       | +                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3             |
+---------+------------------+----------------------------------------------+
| 2       | +                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 2           |
+---------+------------------+----------------------------------------------+
| -       | -                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 + 2         |
+---------+------------------+----------------------------------------------+
| 1       | -                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 + 2 1       |
+---------+------------------+----------------------------------------------+
| /       | - /              | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 + 2 1       |
+---------+------------------+----------------------------------------------+
| 2       | - /              | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 + 2 1 2     |
+---------+------------------+----------------------------------------------+
|         | -                | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 + 2 1 / 2   |
+---------+------------------+----------------------------------------------+
|         | Result is:       | 10 - 9 + (8 - 7) + 6 ^ 5 + 4 - 3 + 2 - 1 / 2 |
+---------+------------------+----------------------------------------------+
```

---

![Untitled](Two%20stack%20%20102d4/Untitled%203.png)

```python
+---------+-----------------------+------------------------+
| Token   | Operator Stack        | Evaluation Stack       |
+=========+=======================+========================+
| 110     |                       | 110                    |
+---------+-----------------------+------------------------+
| +       | +                     | 110                    |
+---------+-----------------------+------------------------+
| (       | + (                   | 110                    |
+---------+-----------------------+------------------------+
| 20      | + (                   | 110 20                 |
+---------+-----------------------+------------------------+
| -       | + ( -                 | 110 20                 |
+---------+-----------------------+------------------------+
| (       | + ( - (               | 110 20                 |
+---------+-----------------------+------------------------+
| 30      | + ( - (               | 110 20 30              |
+---------+-----------------------+------------------------+
| *       | + ( - ( *             | 110 20 30              |
+---------+-----------------------+------------------------+
| (       | + ( - ( * (           | 110 20 30              |
+---------+-----------------------+------------------------+
| 40      | + ( - ( * (           | 110 20 30 40           |
+---------+-----------------------+------------------------+
| /       | + ( - ( * ( /         | 110 20 30 40           |
+---------+-----------------------+------------------------+
| (       | + ( - ( * ( / (       | 110 20 30 40           |
+---------+-----------------------+------------------------+
| 50      | + ( - ( * ( / (       | 110 20 30 40 50        |
+---------+-----------------------+------------------------+
| +       | + ( - ( * ( / ( +     | 110 20 30 40 50        |
+---------+-----------------------+------------------------+
| (       | + ( - ( * ( / ( + (   | 110 20 30 40 50        |
+---------+-----------------------+------------------------+
| 60      | + ( - ( * ( / ( + (   | 110 20 30 40 50 60     |
+---------+-----------------------+------------------------+
| ^       | + ( - ( * ( / ( + ( ^ | 110 20 30 40 50 60     |
+---------+-----------------------+------------------------+
| 2       | + ( - ( * ( / ( + ( ^ | 110 20 30 40 50 60 2   |
+---------+-----------------------+------------------------+
| )       | + ( - ( * ( / ( + (   | 110 20 30 40 50 3600.0 |
+---------+-----------------------+------------------------+
| )       | + ( - ( * ( / ( +     | 110 20 30 40 50 3600.0 |
+---------+-----------------------+------------------------+
| )       | + ( - ( * ( / (       | 110 20 30 40 3650.0    |
+---------+-----------------------+------------------------+
| )       | + ( - ( * ( /         | 110 20 30 40 3650.0    |
+---------+-----------------------+------------------------+
| )       | + ( - ( * (           | 110 20 30 0.01         |
+---------+-----------------------+------------------------+
| )       | + ( - ( *             | 110 20 30 0.01         |
+---------+-----------------------+------------------------+
| )       | + ( - (               | 110 20 0.3             |
+---------+-----------------------+------------------------+
| )       | + ( -                 | 110 20 0.3             |
+---------+-----------------------+------------------------+
| )       | + (                   | 110 19.7               |
+---------+-----------------------+------------------------+
| )       | +                     | 110 19.7               |
+---------+-----------------------+------------------------+
|         | Result is:            | 129.7                  |
+---------+-----------------------+------------------------+
```

```python
+---------+-----------------------+--------------------------------------------+
| Token   | Operator Stack        | Evaluation Stack                           |
+=========+=======================+============================================+
| 110     |                       | 110                                        |
+---------+-----------------------+--------------------------------------------+
| +       | +                     | 110                                        |
+---------+-----------------------+--------------------------------------------+
| (       | + (                   | 110                                        |
+---------+-----------------------+--------------------------------------------+
| 20      | + (                   | 110 20                                     |
+---------+-----------------------+--------------------------------------------+
| -       | + ( -                 | 110 20                                     |
+---------+-----------------------+--------------------------------------------+
| (       | + ( - (               | 110 20                                     |
+---------+-----------------------+--------------------------------------------+
| 30      | + ( - (               | 110 20 30                                  |
+---------+-----------------------+--------------------------------------------+
| *       | + ( - ( *             | 110 20 30                                  |
+---------+-----------------------+--------------------------------------------+
| (       | + ( - ( * (           | 110 20 30                                  |
+---------+-----------------------+--------------------------------------------+
| 40      | + ( - ( * (           | 110 20 30 40                               |
+---------+-----------------------+--------------------------------------------+
| /       | + ( - ( * ( /         | 110 20 30 40                               |
+---------+-----------------------+--------------------------------------------+
| (       | + ( - ( * ( / (       | 110 20 30 40                               |
+---------+-----------------------+--------------------------------------------+
| 50      | + ( - ( * ( / (       | 110 20 30 40 50                            |
+---------+-----------------------+--------------------------------------------+
| +       | + ( - ( * ( / ( +     | 110 20 30 40 50                            |
+---------+-----------------------+--------------------------------------------+
| (       | + ( - ( * ( / ( + (   | 110 20 30 40 50                            |
+---------+-----------------------+--------------------------------------------+
| 60      | + ( - ( * ( / ( + (   | 110 20 30 40 50 60                         |
+---------+-----------------------+--------------------------------------------+
| ^       | + ( - ( * ( / ( + ( ^ | 110 20 30 40 50 60                         |
+---------+-----------------------+--------------------------------------------+
| 2       | + ( - ( * ( / ( + ( ^ | 110 20 30 40 50 60 2                       |
+---------+-----------------------+--------------------------------------------+
| )       | + ( - ( * ( / ( +     | 110 20 30 40 50 (60 ^ 2)                   |
+---------+-----------------------+--------------------------------------------+
| )       | + ( - ( * ( /         | 110 20 30 40 (50 + (60 ^ 2))               |
+---------+-----------------------+--------------------------------------------+
| )       | + ( - ( *             | 110 20 30 (40 / (50 + (60 ^ 2)))           |
+---------+-----------------------+--------------------------------------------+
| )       | + ( -                 | 110 20 (30 * (40 / (50 + (60 ^ 2))))       |
+---------+-----------------------+--------------------------------------------+
| )       | +                     | 110 (20 - (30 * (40 / (50 + (60 ^ 2)))))   |
+---------+-----------------------+--------------------------------------------+
|         | Result is:            | 110 + (20 - (30 * (40 / (50 + (60 ^ 2))))) |
+---------+-----------------------+--------------------------------------------+
```